function setLog(){undoLog[undoLog.length-1]!==$editor.val()&&(undoLog[undoLog.length]=$editor.val()),setTimeout(setLog,1e3)}var editor=document.getElementById("editor"),$editor=$(editor),preview=document.getElementById("preview"),$preview=$(preview),md=markdownit({highlight:function(o,e){if(e&&hljs.getLanguage(e))try{return hljs.highlight(e,o).value}catch(r){}return""}}),$undo=$("#undo"),$redo=$("#redo"),undoLog=[],redoLog=[];$("#main").height(document.body.clientHeight-60),$(window).resize(function(){$("#main").height(document.body.clientHeight-60)}),preview.innerHTML=md.render(editor.value),$editor.on("input propertychange",function(){preview.innerHTML=md.render(editor.value),redoLog=[],$redo.attr("disabled",!0).css("background-color","#555"),$undo.attr("disabled",!1).css("background-color","#fcfcfc")});var $divs=$("#editor, #preview"),handleScroll=function(){var o=$divs.not(this).off("scroll"),e=o.get(0),r=this.scrollTop/(this.scrollHeight-this.offsetHeight);e.scrollTop=r*(e.scrollHeight-e.offsetHeight),setTimeout(function(){o.on("scroll",handleScroll)},200)};$divs.on("scroll",handleScroll),$("#show-article").click(function(){"0px"===$(".aside").css("left")?($("#show-article").css("background-image","url(../img/arrow_right.png)"),$(".aside").css("left","-200px"),$(".modal").css("display","none"),$(".wrapper").css("left","0px")):($("#show-article").css("background-image","url(../img/arrow_left.png)"),$(".aside").css("left","0px"),$(".modal").css("display","block"),$(".wrapper").css("left","200px"))}),setLog(),$undo.click(function(){redoLog.push(undoLog.pop()),$editor.val(undoLog[undoLog.length-1]).blur(),undoLog[undoLog.length-1]||$undo.attr("disabled",!0).css("background-color","#555"),$redo.attr("disabled",!1).css("background-color","#fcfcfc"),preview.innerHTML=md.render(editor.value)}),$redo.click(function(){var o=redoLog.pop();undoLog.push(o),redoLog[redoLog.length-1]||$redo.attr("disabled",!0).css("background-color","#555"),$undo.attr("disabled",!1).css("background-color","#fcfcfc"),$editor.val(o).blur(),preview.innerHTML=md.render(editor.value)});
//# sourceMappingURL=maps/main.min.js.map
